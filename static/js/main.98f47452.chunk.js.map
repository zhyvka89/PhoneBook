{"version":3,"sources":["redux/authSlice.js","redux/user/userApi.js","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","redux/phonebook/phonebookApi.js","components/UserMenu/UserMenu.module.css","components/Container/Container.module.css","components/AppBar/AppBar.module.css","components/Container/Container.js","components/Layout/Layout.js","components/AuthNav/AuthNav.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/PrivateRout.js","components/PublicRout.js","App.js","redux/store.js","index.js"],"names":["initState","user","name","email","token","isLoggedIn","authSlice","createSlice","initialState","reducers","setCredentials","state","payload","removeCredentials","setCurrentUser","actions","getUserName","auth","getToken","getIsLogedIn","usersApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","getState","set","tagTypes","endpoints","builder","getCurrentUser","query","providesTags","signupUser","mutation","url","method","body","password","transformResponse","response","data","invalidatesTags","loginUser","logoutUser","useGetCurrentUserQuery","useSignupUserMutation","useLoginUserMutation","useLogoutUserMutation","module","exports","contactsApi","getContacts","addContact","number","deleteContact","id","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","Container","children","className","style","container","Layout","AuthNav","styles","authNav","to","link","activeClassName","activeLink","Navigation","useSelector","exact","UserMenu","dispatch","useDispatch","logOut","menu","text","Button","variant","color","type","size","onClick","AppBar","header","PrivateRoute","redirectTo","routeProps","isLogedIn","PublicRoute","restricted","routProps","renderFlag","HomePage","lazy","RegistrationPage","LoginPage","ContactsPage","useStyles","makeStyles","theme","root","width","marginTop","spacing","App","classes","isToken","console","log","useEffect","fallback","LinearProgress","path","userPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.98f47452.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initState = {\n  user: {\n    name: null,\n    email: null,\n  },\n  token: null,\n  isLoggedIn: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: initState,\n  reducers: {\n    setCredentials: (state, { payload: { user, token } }) => {\n      state.user = user;\n      state.token = token;\n      state.isLoggedIn = true;\n    },\n    removeCredentials: () => initState,\n    setCurrentUser: (state, { payload: user }) => {\n      state.user = user;\n      state.isLoggedIn = true;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n\nexport const { setCredentials, removeCredentials, setCurrentUser } = authSlice.actions;\n\nexport const getUserName = state => state.auth.user.name;\nexport const getToken = state => state.auth.token;\nexport const getUser = state => state.auth.user;\nexport const getIsLogedIn = state => state.auth.isLoggedIn;\n","\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const usersApi = createApi({\n  reducerPath: 'usersApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://connections-api.herokuapp.com/',\n    prepareHeaders: (headers, { getState }) => {\n      const token = getState().auth.token;\n      if (token) {\n        headers.set('authorization', `Bearer ${token}`);\n      }\n      return headers;\n    },\n  }),\n  tagTypes: ['Users'],\n  endpoints: builder => ({\n    getCurrentUser: builder.query({\n      query: () => '/users/current',\n      providesTags: ['Users'],\n    }),\n    signupUser: builder.mutation({\n      query: ({ name, email, password }) => ({\n        url: '/users/signup',\n        method: 'POST',\n        body: {\n          name: name,\n          email: email,\n          password: password,\n        },\n        transformResponse: response => response.data,\n      }),\n      invalidatesTags: ['Users'],\n    }),\n    loginUser: builder.mutation({\n      query: ({ email, password }) => ({\n        url: '/users/login',\n        method: 'POST',\n        body: {\n          email,\n          password,\n        },\n      }),\n      invalidatesTags: ['Users'],\n    }),\n    logoutUser: builder.mutation({\n      query: () => ({\n        url: 'users/logout',\n        method: 'POST',\n      }),\n      invalidatesTags: ['Users'],\n    }),\n  }),\n});\n\nexport const {\n  useGetCurrentUserQuery,\n  useSignupUserMutation,\n  useLoginUserMutation,\n  useLogoutUserMutation,\n} = usersApi;\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2BFiy\",\"activeLink\":\"AuthNav_activeLink__17NnE AuthNav_link__2BFiy\",\"authNav\":\"AuthNav_authNav__2rI7c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__vDiRg\",\"activeLink\":\"Navigation_activeLink__LP4ul Navigation_link__vDiRg\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://connections-api.herokuapp.com/',\n    prepareHeaders: (headers, { getState }) => {\n      const token = getState().auth.token;\n      if (token) {\n        headers.set('authorization', `Bearer ${token}`);\n      }\n      return headers;\n    },\n  }),\n  tagTypes: ['Contacts'],\n  endpoints: builder => ({\n    getContacts: builder.query({\n      query: () => '/contacts',\n      providesTags: ['Contacts'],\n    }),\n    addContact: builder.mutation({\n      query: ({ name, number }) => ({\n        url: '/contacts',\n        method: 'POST',\n        body: {\n          name,\n          number,\n        },\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n    deleteContact: builder.mutation({\n      query: id => ({\n        url: `/contacts/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n  }),\n});\n\nexport const {\n  useGetContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = contactsApi;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"UserMenu_menu__367Z3\",\"text\":\"UserMenu_text__2EEgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__spsAE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3LbVX\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport style from './Container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={style.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Container from '../Container/Container';\n\nconst Layout = ({ children }) => (\n  <>\n    <Container>{children}</Container>\n  </>\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import { NavLink } from 'react-router-dom';\n\nimport styles from './AuthNav.module.css';\n\nexport default function AuthNav() {\n  return (\n    <div className={styles.authNav}>\n      <NavLink\n        to=\"/register\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Registration\n      </NavLink>\n\n      <NavLink\n        to=\"/login\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        LogIn\n      </NavLink>\n    </div>\n  );\n}\n","import { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getIsLogedIn } from '../../redux/authSlice';\nimport styles from './Navigation.module.css';\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(getIsLogedIn);\n\n  return (\n    <nav>\n      <NavLink\n        to=\"/\"\n        exact\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Home\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          to=\"/contacts\"\n          className={styles.link}\n          activeClassName={styles.activeLink}\n        >\n          Contacts\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { Button } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUserName, removeCredentials } from '../../redux/authSlice';\nimport { useLogoutUserMutation } from '../../redux/user/userApi';\nimport styles from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(getUserName);\n  const [logOut] = useLogoutUserMutation();\n\n  const handleBtnClick = () => {\n    logOut();\n    dispatch(removeCredentials());\n  };\n\n  return (\n    <div className={styles.menu}>\n      <span className={styles.text}>Welcome, {name}</span>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        type=\"button\"\n        size=\"small\"\n        onClick={handleBtnClick}\n      >\n        Log Out\n      </Button>\n    </div>\n  );\n}\n","// import { style } from '@material-ui/system';\nimport { useSelector } from 'react-redux';\nimport AuthNav from '../AuthNav/AuthNav';\nimport Navigation from '../Navigation/Navigation';\n// import NavTabs from '../NavTabs/NavTabs';\n// import Navigation from '../Navigation/Navigation';\nimport UserMenu from '../UserMenu/UserMenu';\n// import { Nav } from 'react-bootstrap';\nimport { getIsLogedIn } from '../../redux/authSlice';\nimport styles from './AppBar.module.css';\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(getIsLogedIn);\n  return (\n    <header className={styles.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n      {/* <AuthNav />\n\n      <UserMenu/> */}\n    </header>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Redirect, Route } from 'react-router-dom';\nimport { getIsLogedIn } from '../redux/authSlice';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/',\n  ...routeProps\n}) {\n  const isLogedIn = useSelector(getIsLogedIn);\n  return (\n    <Route {...routeProps}>\n      {isLogedIn ? children : <Redirect to={redirectTo} />}\n      {children}\n    </Route>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Redirect, Route } from 'react-router-dom';\nimport { getIsLogedIn } from '../redux/authSlice';\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = '/',\n  ...routProps\n}) {\n  const isLogedIn = useSelector(getIsLogedIn);\n  const renderFlag = isLogedIn && restricted;\n  return (\n    <Route {...routProps}>\n      {renderFlag ? <Redirect to={redirectTo} /> : children}\n      {children}\n    </Route>\n  );\n}\n","import { Suspense, lazy, useEffect } from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport Layout from './components/Layout/Layout';\nimport AppBar from './components/AppBar/AppBar';\nimport PrivateRoute from './components/PrivateRout';\nimport PublicRoute from './components/PublicRout';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LinearProgress } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getToken, setCredentials, setCurrentUser } from './redux/authSlice';\nimport { useGetCurrentUserQuery } from './redux/user/userApi';\n\nconst HomePage = lazy(() => import('./pages/HomePage'));\nconst RegistrationPage = lazy(() => import('./pages/RegistrationPage'));\nconst LoginPage = lazy(() => import('./pages/LoginPage'));\nconst ContactsPage = lazy(() => import('./pages/ContactsPage/ContactsPage'));\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function App() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const isToken = useSelector(getToken);\n  const { data: user } = useGetCurrentUserQuery(isToken);\n  console.log(user);\n\n  useEffect(() => {\n    isToken && dispatch(setCurrentUser(user));\n  }, [dispatch, isToken, user])\n\n  return (\n    <Layout>\n      <AppBar />\n\n      <Suspense fallback={\n        <div className={classes.root}>\n          <LinearProgress color=\"secondary\"/>\n        </div>\n      }>\n        <Switch>\n          <PublicRoute exact path=\"/\">\n            <HomePage />\n          </PublicRoute>\n\n          <PublicRoute path=\"/register\" restricted>\n            <RegistrationPage />\n          </PublicRoute>\n\n          <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n            <LoginPage />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsPage />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </Layout>\n  );\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nimport { contactsApi } from './phonebook/phonebookApi';\nimport { usersApi } from './user/userApi';\nimport auth from './authSlice';\n\nconst userPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    [contactsApi.reducerPath]: contactsApi.reducer,\n    [usersApi.reducerPath]: usersApi.reducer,\n    auth: persistReducer(userPersistConfig, auth),\n  },\n  middleware: getDefaultMiddleware => [\n    ...getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }),\n    contactsApi.middleware,\n    usersApi.middleware,\n  ],\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport App from './App';\nimport { store, persistor } from './redux/store';\n\nimport 'modern-normalize/modern-normalize.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <PersistGate loading={null} persistor={persistor}>\n        <App />\n        </PersistGate>\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}